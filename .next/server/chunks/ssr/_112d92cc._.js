module.exports=[15618,81560,a=>{"use strict";var b=a.i(70106);let c=(0,b.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>c],15618);let d=(0,b.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);a.s(["Trash2",()=>d],81560)},10448,a=>{"use strict";let b=(0,a.i(70106).default)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);a.s(["Edit2",()=>b],10448)},87532,a=>{"use strict";let b=(0,a.i(70106).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);a.s(["Search",()=>b],87532)},60237,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.i(11909);var d=a.i(91119),e=a.i(99570),f=a.i(66718),g=a.i(80701),h=a.i(86304),i=a.i(69769),j=a.i(10849),k=a.i(15618),l=a.i(87532),m=a.i(10448),n=a.i(81560),o=a.i(33508),p=a.i(96221);function q(){let[a,q]=(0,c.useState)([]),[r,s]=(0,c.useState)([]),[t,u]=(0,c.useState)(!0),[v,w]=(0,c.useState)(""),[x,y]=(0,c.useState)(""),[z,A]=(0,c.useState)(""),[B,C]=(0,c.useState)([]),[D,E]=(0,c.useState)(!1),[F,G]=(0,c.useState)(null),[H,I]=(0,c.useState)({name:"",email:"",phone:"",organization_id:"",title:"",department:"",position_level:"peer",role:"user",status:"active",preferred_language:"tr"}),[J,K]=(0,c.useState)(!1);(0,c.useEffect)(()=>{L()},[]);let L=async()=>{u(!0);try{let[a,b]=await Promise.all([j.supabase.from("users").select("*, organizations(*)").order("name"),j.supabase.from("organizations").select("*").order("name")]);q(a.data||[]),s(b.data||[]);let c=[...new Set((a.data||[]).map(a=>a.department).filter(Boolean))];C(c.sort())}catch(a){console.error("Load error:",a),(0,i.toast)("Veriler yÃ¼klenemedi","error")}finally{u(!1)}},M=a.filter(a=>{let b=a.name.toLowerCase().includes(v.toLowerCase())||a.email.toLowerCase().includes(v.toLowerCase()),c=!x||a.organization_id===x,d=!z||a.department===z;return b&&c&&d}),N=a=>{a?(G(a),I({name:a.name,email:a.email,phone:a.phone||"",organization_id:a.organization_id||"",title:a.title||"",department:a.department||"",position_level:a.position_level,role:a.role,status:a.status,preferred_language:a.preferred_language})):(G(null),I({name:"",email:"",phone:"",organization_id:"",title:"",department:"",position_level:"peer",role:"user",status:"active",preferred_language:"tr"})),E(!0)},O=async()=>{if(!H.name.trim()||!H.email.trim())return void(0,i.toast)("Ad ve email zorunludur","error");K(!0);try{let a={...H,email:H.email.toLowerCase().trim(),organization_id:H.organization_id||null,phone:H.phone||null,title:H.title||null,department:H.department||null};if(F){let{error:b}=await j.supabase.from("users").update(a).eq("id",F.id);if(b)throw b;(0,i.toast)("KullanÄ±cÄ± gÃ¼ncellendi","success")}else{let{error:b}=await j.supabase.from("users").insert(a);if(b)throw b;(0,i.toast)("KullanÄ±cÄ± eklendi","success")}E(!1),L()}catch(a){console.error("Save error:",a),(0,i.toast)(a.message||"KayÄ±t hatasÄ±","error")}finally{K(!1)}},P=async a=>{if(confirm(`${a.name} kullanÄ±cÄ±sÄ±nÄ± silmek istediÄŸinize emin misiniz?`))try{let{error:b}=await j.supabase.from("users").delete().eq("id",a.id);if(b)throw b;(0,i.toast)("KullanÄ±cÄ± silindi","success"),L()}catch(a){(0,i.toast)(a.message||"Silme hatasÄ±","error")}},Q={executive:"ðŸ‘” Ãœst YÃ¶netici",manager:"ðŸ‘¨â€ðŸ’¼ YÃ¶netici",peer:"ðŸ‘¥ EÅŸ DÃ¼zey",subordinate:"ðŸ‘¤ Ast"},R={super_admin:"ðŸ”´ Super Admin",org_admin:"ðŸŸ  Kurum Admin",user:"ðŸŸ¢ KullanÄ±cÄ±"};return(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"ðŸ‘¥ KullanÄ±cÄ±lar"}),(0,b.jsx)("p",{className:"text-gray-500 mt-1",children:"Sistem kullanÄ±cÄ±larÄ±nÄ± yÃ¶netin"})]}),(0,b.jsxs)(e.Button,{onClick:()=>N(),children:[(0,b.jsx)(k.Plus,{className:"w-5 h-5"}),"Yeni KullanÄ±cÄ±"]})]}),(0,b.jsx)(d.Card,{className:"mb-6",children:(0,b.jsx)(d.CardBody,{children:(0,b.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,b.jsx)("div",{className:"flex-1 min-w-[200px]",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(l.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,b.jsx)("input",{type:"text",placeholder:"Ä°sim veya email ara...",value:v,onChange:a=>w(a.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500"})]})}),(0,b.jsx)(g.Select,{options:r.map(a=>({value:a.id,label:a.name})),value:x,onChange:a=>y(a.target.value),placeholder:"TÃ¼m Kurumlar",className:"w-48"}),(0,b.jsx)(g.Select,{options:B.map(a=>({value:a,label:a})),value:z,onChange:a=>A(a.target.value),placeholder:"TÃ¼m Departmanlar",className:"w-48"})]})})}),(0,b.jsx)(d.Card,{children:(0,b.jsx)(d.CardBody,{className:"p-0",children:t?(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsx)(p.Loader2,{className:"w-8 h-8 animate-spin text-blue-600"})}):(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-gray-50 border-b border-gray-100",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"text-left py-4 px-6 font-semibold text-gray-600 text-sm",children:"Ad Soyad"}),(0,b.jsx)("th",{className:"text-left py-4 px-6 font-semibold text-gray-600 text-sm",children:"Email"}),(0,b.jsx)("th",{className:"text-left py-4 px-6 font-semibold text-gray-600 text-sm",children:"Kurum"}),(0,b.jsx)("th",{className:"text-left py-4 px-6 font-semibold text-gray-600 text-sm",children:"Departman"}),(0,b.jsx)("th",{className:"text-left py-4 px-6 font-semibold text-gray-600 text-sm",children:"Pozisyon"}),(0,b.jsx)("th",{className:"text-left py-4 px-6 font-semibold text-gray-600 text-sm",children:"Rol"}),(0,b.jsx)("th",{className:"text-left py-4 px-6 font-semibold text-gray-600 text-sm",children:"Durum"}),(0,b.jsx)("th",{className:"text-right py-4 px-6 font-semibold text-gray-600 text-sm",children:"Ä°ÅŸlem"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-100",children:0===M.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:8,className:"py-12 text-center text-gray-500",children:"KullanÄ±cÄ± bulunamadÄ±"})}):M.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,b.jsx)("td",{className:"py-4 px-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-9 h-9 bg-blue-100 rounded-lg flex items-center justify-center text-blue-600 font-semibold text-sm",children:a.name.split(" ").map(a=>a[0]).join("").substring(0,2)}),(0,b.jsx)("span",{className:"font-medium text-gray-900",children:a.name})]})}),(0,b.jsx)("td",{className:"py-4 px-6 text-gray-600 text-sm",children:a.email}),(0,b.jsx)("td",{className:"py-4 px-6 text-gray-600 text-sm",children:a.organizations?.name||"-"}),(0,b.jsx)("td",{className:"py-4 px-6 text-gray-600 text-sm",children:a.department||"-"}),(0,b.jsx)("td",{className:"py-4 px-6",children:(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("div",{className:"text-gray-900 text-sm",children:a.title||"-"}),(0,b.jsx)("div",{children:(0,b.jsx)(h.Badge,{variant:"gray",children:Q[a.position_level]})})]})}),(0,b.jsx)("td",{className:"py-4 px-6",children:(0,b.jsx)(h.Badge,{variant:"super_admin"===a.role?"danger":"org_admin"===a.role?"warning":"default",children:R[a.role]})}),(0,b.jsx)("td",{className:"py-4 px-6",children:(0,b.jsx)(h.Badge,{variant:"active"===a.status?"success":"gray",children:"active"===a.status?"Aktif":"Pasif"})}),(0,b.jsx)("td",{className:"py-4 px-6 text-right",children:(0,b.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,b.jsx)("button",{onClick:()=>N(a),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:(0,b.jsx)(m.Edit2,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>P(a),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:(0,b.jsx)(n.Trash2,{className:"w-4 h-4"})})]})})]},a.id))})]})})})}),(0,b.jsxs)("p",{className:"text-sm text-gray-500 mt-4",children:["Toplam ",M.length," kullanÄ±cÄ± gÃ¶steriliyor"]}),D&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:F?"KullanÄ±cÄ± DÃ¼zenle":"Yeni KullanÄ±cÄ±"}),(0,b.jsx)("button",{onClick:()=>E(!1),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",children:(0,b.jsx)(o.X,{className:"w-5 h-5"})})]}),(0,b.jsxs)("div",{className:"p-6 space-y-4",children:[(0,b.jsx)(f.Input,{label:"Ad Soyad *",value:H.name,onChange:a=>I({...H,name:a.target.value}),placeholder:"Ã–rn: Ahmet YÄ±lmaz"}),(0,b.jsx)(f.Input,{label:"Email *",type:"email",value:H.email,onChange:a=>I({...H,email:a.target.value}),placeholder:"ornek@email.com"}),(0,b.jsx)(f.Input,{label:"Telefon",value:H.phone,onChange:a=>I({...H,phone:a.target.value}),placeholder:"+90 5XX XXX XX XX"}),(0,b.jsx)(g.Select,{label:"Kurum",options:r.map(a=>({value:a.id,label:a.name})),value:H.organization_id,onChange:a=>I({...H,organization_id:a.target.value}),placeholder:"Kurum SeÃ§in"}),(0,b.jsx)(f.Input,{label:"GÃ¶rev / Unvan",value:H.title,onChange:a=>I({...H,title:a.target.value}),placeholder:"Ã–rn: YazÄ±lÄ±m MÃ¼hendisi"}),(0,b.jsx)(f.Input,{label:"Departman",value:H.department,onChange:a=>I({...H,department:a.target.value}),placeholder:"Ã–rn: BiliÅŸim Teknolojileri"}),(0,b.jsx)(g.Select,{label:"Pozisyon Seviyesi",options:[{value:"executive",label:"ðŸ‘” Ãœst YÃ¶netici (C-Level)"},{value:"manager",label:"ðŸ‘¨â€ðŸ’¼ YÃ¶netici / MÃ¼dÃ¼r"},{value:"peer",label:"ðŸ‘¥ Uzman / EÅŸ DÃ¼zey"},{value:"subordinate",label:"ðŸ‘¤ Asistan / Stajyer"}],value:H.position_level,onChange:a=>I({...H,position_level:a.target.value})}),(0,b.jsx)(g.Select,{label:"Rol",options:[{value:"user",label:"ðŸŸ¢ KullanÄ±cÄ±"},{value:"org_admin",label:"ðŸŸ  Kurum YÃ¶neticisi"},{value:"super_admin",label:"ðŸ”´ Super Admin"}],value:H.role,onChange:a=>I({...H,role:a.target.value})}),(0,b.jsx)(g.Select,{label:"Durum",options:[{value:"active",label:"âœ… Aktif"},{value:"inactive",label:"âŒ Pasif"}],value:H.status,onChange:a=>I({...H,status:a.target.value})}),(0,b.jsx)(g.Select,{label:"Tercih Edilen Dil",options:[{value:"tr",label:"ðŸ‡¹ðŸ‡· TÃ¼rkÃ§e"},{value:"en",label:"ðŸ‡¬ðŸ‡§ English"},{value:"fr",label:"ðŸ‡«ðŸ‡· FranÃ§ais"}],value:H.preferred_language,onChange:a=>I({...H,preferred_language:a.target.value})})]}),(0,b.jsxs)("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-100",children:[(0,b.jsx)(e.Button,{variant:"secondary",onClick:()=>E(!1),children:"Ä°ptal"}),(0,b.jsx)(e.Button,{onClick:O,disabled:J,children:J?(0,b.jsx)(p.Loader2,{className:"w-5 h-5 animate-spin"}):"Kaydet"})]})]})})]})}a.s(["default",()=>q])}];

//# sourceMappingURL=_112d92cc._.js.map