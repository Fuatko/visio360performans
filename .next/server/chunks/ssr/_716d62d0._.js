module.exports=[24669,a=>{"use strict";let b=(0,a.i(70106).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);a.s(["TrendingUp",()=>b],24669)},41710,a=>{"use strict";let b=(0,a.i(70106).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);a.s(["Clock",()=>b],41710)},42972,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.i(11909);var d=a.i(91119),e=a.i(86304),f=a.i(10849),g=a.i(74625),h=a.i(67900),i=a.i(60246),j=a.i(41675),k=a.i(50429),l=a.i(16201),m=a.i(41710),n=a.i(24669),o=a.i(39761);function p(){let{user:a}=(0,g.useAuthStore)(),[p,q]=(0,c.useState)({organizations:0,users:0,periods:0,assignments:0,completed:0,pending:0}),[r,s]=(0,c.useState)([]),[t,u]=(0,c.useState)(!0);(0,c.useEffect)(()=>{v()},[]);let v=async()=>{try{let[a,b,c,d]=await Promise.all([f.supabase.from("organizations").select("id",{count:"exact"}),f.supabase.from("users").select("id",{count:"exact"}).eq("status","active"),f.supabase.from("evaluation_periods").select("id",{count:"exact"}),f.supabase.from("evaluation_assignments").select("id, status",{count:"exact"})]),e=d.data||[],g=e.filter(a=>"completed"===a.status).length,h=e.filter(a=>"pending"===a.status).length;q({organizations:a.count||0,users:b.count||0,periods:c.count||0,assignments:d.count||0,completed:g,pending:h});let{data:i}=await f.supabase.from("evaluation_assignments").select(`
          *,
          evaluator:evaluator_id(name, department),
          target:target_id(name, department),
          evaluation_periods(name)
        `).order("created_at",{ascending:!1}).limit(10);s(i||[])}catch(a){console.error("Dashboard error:",a)}finally{u(!1)}},w=p.assignments>0?Math.round(p.completed/p.assignments*100):0,x=[{title:"Kurumlar",value:p.organizations,icon:h.Building2,color:"from-blue-500 to-blue-600",shadow:"shadow-blue-500/25"},{title:"Kullanıcılar",value:p.users,icon:i.Users,color:"from-emerald-500 to-emerald-600",shadow:"shadow-emerald-500/25"},{title:"Aktif Dönemler",value:p.periods,icon:j.Calendar,color:"from-purple-500 to-purple-600",shadow:"shadow-purple-500/25"},{title:"Toplam Atama",value:p.assignments,icon:k.Target,color:"from-amber-500 to-amber-600",shadow:"shadow-amber-500/25"},{title:"Tamamlanan",value:p.completed,icon:l.CheckCircle,color:"from-green-500 to-green-600",shadow:"shadow-green-500/25"},{title:"Bekleyen",value:p.pending,icon:m.Clock,color:"from-orange-500 to-orange-600",shadow:"shadow-orange-500/25"}];return(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),(0,b.jsxs)("p",{className:"text-gray-500 mt-1",children:["Hoş geldiniz, ",a?.name,"! Sistem durumuna genel bakış."]})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4 mb-8",children:x.map((a,c)=>{let d=a.icon;return(0,b.jsxs)("div",{className:`bg-gradient-to-br ${a.color} p-5 rounded-2xl text-white shadow-lg ${a.shadow}`,children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)(d,{className:"w-6 h-6 opacity-80"}),(0,b.jsx)(n.TrendingUp,{className:"w-4 h-4 opacity-60"})]}),(0,b.jsx)("div",{className:"text-3xl font-bold",children:a.value}),(0,b.jsx)("div",{className:"text-sm opacity-80 mt-1",children:a.title})]},c)})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsxs)(d.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(o.BarChart3,{className:"w-5 h-5 text-blue-600"}),"Tamamlanma Oranı"]})}),(0,b.jsx)(d.CardBody,{children:(0,b.jsxs)("div",{className:"flex flex-col items-center py-4",children:[(0,b.jsxs)("div",{className:"relative w-32 h-32",children:[(0,b.jsxs)("svg",{className:"w-full h-full transform -rotate-90",children:[(0,b.jsx)("circle",{cx:"64",cy:"64",r:"56",stroke:"#e5e7eb",strokeWidth:"12",fill:"none"}),(0,b.jsx)("circle",{cx:"64",cy:"64",r:"56",stroke:w>=70?"#10b981":w>=40?"#f59e0b":"#ef4444",strokeWidth:"12",fill:"none",strokeLinecap:"round",strokeDasharray:`${3.52*w} 352`})]}),(0,b.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,b.jsxs)("span",{className:"text-3xl font-bold text-gray-900",children:[w,"%"]})})]}),(0,b.jsx)("div",{className:"mt-4 text-center",children:(0,b.jsxs)("p",{className:"text-sm text-gray-500",children:[p.completed," / ",p.assignments," değerlendirme tamamlandı"]})})]})})]}),(0,b.jsxs)(d.Card,{className:"lg:col-span-2",children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsxs)(d.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(m.Clock,{className:"w-5 h-5 text-blue-600"}),"Son Değerlendirmeler"]})}),(0,b.jsx)(d.CardBody,{className:"p-0",children:(0,b.jsx)("div",{className:"divide-y divide-gray-100",children:0===r.length?(0,b.jsx)("div",{className:"p-6 text-center text-gray-500",children:"Henüz değerlendirme yok"}):r.slice(0,5).map(a=>(0,b.jsxs)("div",{className:"px-6 py-4 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center",children:(0,b.jsx)(k.Target,{className:"w-5 h-5 text-blue-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"font-medium text-gray-900",children:[a.evaluator?.name||"-",(0,b.jsx)("span",{className:"text-gray-400 mx-2",children:"→"}),a.target?.name||"-"]}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:a.evaluation_periods?.name||"-"})]})]}),(0,b.jsx)(e.Badge,{variant:"completed"===a.status?"success":"warning",children:"completed"===a.status?"✅ Tamamlandı":"⏳ Bekliyor"})]},a.id))})})]})]})]})}a.s(["default",()=>p])}];

//# sourceMappingURL=_716d62d0._.js.map