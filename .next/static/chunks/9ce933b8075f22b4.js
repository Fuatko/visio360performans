(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7233,27612,e=>{"use strict";var a=e.i(75254);let t=(0,a.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233);let s=(0,a.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>s],27612)},92930,e=>{"use strict";let a=(0,e.i(75254).default)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);e.s(["Edit2",()=>a],92930)},55274,e=>{"use strict";var a=e.i(43476),t=e.i(71645);e.i(16787);var s=e.i(15288),i=e.i(19455),l=e.i(93479),r=e.i(67489),n=e.i(87486),d=e.i(73635),c=e.i(7471),o=e.i(75157),m=e.i(7233),x=e.i(92930),u=e.i(27612),h=e.i(37727),p=e.i(31278),y=e.i(87316);function g(){let[e,g]=(0,t.useState)([]),[j,v]=(0,t.useState)([]),[f,b]=(0,t.useState)(!0),[N,_]=(0,t.useState)(!1),[w,k]=(0,t.useState)(null),[C,z]=(0,t.useState)({name:"",organization_id:"",start_date:"",end_date:"",status:"active"}),[D,S]=(0,t.useState)(!1);(0,t.useEffect)(()=>{B()},[]);let B=async()=>{b(!0);try{let[e,a]=await Promise.all([c.supabase.from("evaluation_periods").select("*, organizations(*)").order("created_at",{ascending:!1}),c.supabase.from("organizations").select("*").order("name")]);g(e.data||[]),v(a.data||[])}catch(e){console.error("Load error:",e),(0,d.toast)("Veriler yÃ¼klenemedi","error")}finally{b(!1)}},T=e=>{e?(k(e),z({name:e.name,organization_id:e.organization_id,start_date:e.start_date,end_date:e.end_date,status:e.status})):(k(null),z({name:"",organization_id:"",start_date:"",end_date:"",status:"active"})),_(!0)},M=async()=>{if(!C.name.trim()||!C.organization_id||!C.start_date||!C.end_date)return void(0,d.toast)("TÃ¼m alanlarÄ± doldurun","error");S(!0);try{if(w){let{error:e}=await c.supabase.from("evaluation_periods").update(C).eq("id",w.id);if(e)throw e;(0,d.toast)("DÃ¶nem gÃ¼ncellendi","success")}else{let{error:e}=await c.supabase.from("evaluation_periods").insert(C);if(e)throw e;(0,d.toast)("DÃ¶nem eklendi","success")}_(!1),B()}catch(e){(0,d.toast)(e.message||"KayÄ±t hatasÄ±","error")}finally{S(!1)}},K=async e=>{if(confirm(`${e.name} d\xf6nemini silmek istediÄŸinize emin misiniz?`))try{let{error:a}=await c.supabase.from("evaluation_periods").delete().eq("id",e.id);if(a)throw a;(0,d.toast)("DÃ¶nem silindi","success"),B()}catch(e){(0,d.toast)(e.message||"Silme hatasÄ±","error")}},P={active:"success",inactive:"gray",completed:"warning"},A={active:"ðŸŸ¢ Aktif",inactive:"âšª Pasif",completed:"âœ… TamamlandÄ±"};return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"ðŸ“… DÃ¶nemler"}),(0,a.jsx)("p",{className:"text-gray-500 mt-1",children:"DeÄŸerlendirme dÃ¶nemlerini yÃ¶netin"})]}),(0,a.jsxs)(i.Button,{onClick:()=>T(),children:[(0,a.jsx)(m.Plus,{className:"w-5 h-5"}),"Yeni DÃ¶nem"]})]}),(0,a.jsx)(s.Card,{children:(0,a.jsx)(s.CardBody,{className:"p-0",children:f?(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsx)(p.Loader2,{className:"w-8 h-8 animate-spin text-blue-600"})}):0===e.length?(0,a.jsxs)("div",{className:"py-12 text-center text-gray-500",children:[(0,a.jsx)(y.Calendar,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,a.jsx)("p",{children:"HenÃ¼z dÃ¶nem eklenmemiÅŸ"})]}):(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50 border-b border-gray-100",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"text-left py-4 px-6 font-semibold text-gray-600 text-sm",children:"DÃ¶nem AdÄ±"}),(0,a.jsx)("th",{className:"text-left py-4 px-6 font-semibold text-gray-600 text-sm",children:"Kurum"}),(0,a.jsx)("th",{className:"text-left py-4 px-6 font-semibold text-gray-600 text-sm",children:"BaÅŸlangÄ±Ã§"}),(0,a.jsx)("th",{className:"text-left py-4 px-6 font-semibold text-gray-600 text-sm",children:"BitiÅŸ"}),(0,a.jsx)("th",{className:"text-left py-4 px-6 font-semibold text-gray-600 text-sm",children:"Durum"}),(0,a.jsx)("th",{className:"text-right py-4 px-6 font-semibold text-gray-600 text-sm",children:"Ä°ÅŸlem"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-100",children:e.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"py-4 px-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-purple-100 rounded-xl flex items-center justify-center",children:(0,a.jsx)(y.Calendar,{className:"w-5 h-5 text-purple-600"})}),(0,a.jsx)("span",{className:"font-medium text-gray-900",children:e.name})]})}),(0,a.jsx)("td",{className:"py-4 px-6 text-gray-600",children:e.organizations?.name||"-"}),(0,a.jsx)("td",{className:"py-4 px-6 text-gray-600",children:(0,o.formatDate)(e.start_date)}),(0,a.jsx)("td",{className:"py-4 px-6 text-gray-600",children:(0,o.formatDate)(e.end_date)}),(0,a.jsx)("td",{className:"py-4 px-6",children:(0,a.jsx)(n.Badge,{variant:P[e.status],children:A[e.status]})}),(0,a.jsx)("td",{className:"py-4 px-6 text-right",children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,a.jsx)("button",{onClick:()=>T(e),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg",children:(0,a.jsx)(x.Edit2,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>K(e),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg",children:(0,a.jsx)(u.Trash2,{className:"w-4 h-4"})})]})})]},e.id))})]})})})}),N&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-md",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:w?"DÃ¶nem DÃ¼zenle":"Yeni DÃ¶nem"}),(0,a.jsx)("button",{onClick:()=>_(!1),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",children:(0,a.jsx)(h.X,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"p-6 space-y-4",children:[(0,a.jsx)(l.Input,{label:"DÃ¶nem AdÄ± *",value:C.name,onChange:e=>z({...C,name:e.target.value}),placeholder:"Ã–rn: 2026 Q1 DeÄŸerlendirmesi"}),(0,a.jsx)(r.Select,{label:"Kurum *",options:j.map(e=>({value:e.id,label:e.name})),value:C.organization_id,onChange:e=>z({...C,organization_id:e.target.value}),placeholder:"Kurum SeÃ§in"}),(0,a.jsx)(l.Input,{label:"BaÅŸlangÄ±Ã§ Tarihi *",type:"date",value:C.start_date,onChange:e=>z({...C,start_date:e.target.value})}),(0,a.jsx)(l.Input,{label:"BitiÅŸ Tarihi *",type:"date",value:C.end_date,onChange:e=>z({...C,end_date:e.target.value})}),(0,a.jsx)(r.Select,{label:"Durum",options:[{value:"active",label:"ðŸŸ¢ Aktif"},{value:"inactive",label:"âšª Pasif"},{value:"completed",label:"âœ… TamamlandÄ±"}],value:C.status,onChange:e=>z({...C,status:e.target.value})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-100",children:[(0,a.jsx)(i.Button,{variant:"secondary",onClick:()=>_(!1),children:"Ä°ptal"}),(0,a.jsx)(i.Button,{onClick:M,disabled:D,children:D?(0,a.jsx)(p.Loader2,{className:"w-5 h-5 animate-spin"}):"Kaydet"})]})]})})]})}e.s(["default",()=>g])}]);